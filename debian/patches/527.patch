From f8602949bf7920e9d11db7aef2b2e5f2e8dff561 Mon Sep 17 00:00:00 2001
From: Samuel Thibault <samuel.thibault@ens-lyon.org>
Date: Sun, 4 Nov 2018 13:16:54 +0100
Subject: [PATCH] Fix kfreebsd build
Forwarded: https://github.com/codership/galera/pull/527


---
 galerautils/src/gu_resolver.cpp | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

--- a/galerautils/src/gu_resolver.cpp
+++ b/galerautils/src/gu_resolver.cpp
@@ -272,7 +272,7 @@ out:
                 }
 #if defined(__linux__) || defined(__GNU__)
                 idx = ifrp->ifr_ifindex;
-#elif defined(__sun__)
+#elif defined(__sun__) || defined(__FreeBSD_kernel__)
                 idx = ifrp->ifr_index;
 #else
 # error "Unsupported ifreq structure"
